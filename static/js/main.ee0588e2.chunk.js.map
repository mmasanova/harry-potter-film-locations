{"version":3,"sources":["icons/powered-by-foursquare-grey.svg","icons/place.svg","components/utils.js","components/marker.js","components/info-window.js","components/info-window-content.js","components/map.js","components/listview.js","components/filter.js","components/heading.js","components/detail-window.js","data.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","camelize","str","split","map","word","charAt","toUpperCase","slice","join","eventNames","Marker","this","marker","setMap","prevProps","props","position","renderMarker","visible","_this","_this$props","mapCenter","onCreate","pos","options","window","google","maps","LatLng","forEach","e","addListener","handleEvent","evt","_this2","eventName","concat","Component","InfoWindow","prevState","renderInfoWindow","openWindow","closeWindow","venueInfo","onDomready","infoWindow","open","close","content","InfoWindowContent","location","clientId","react_default","a","createElement","className","href","canonicalUrl","target","name","error","id","formattedAddress","htmlFor","alt","src","attributionLogo","Map","_Component","_getPrototypeOf2","Object","classCallCheck","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","bounds","inherits","createClass","key","value","contentDiv","document","getElementById","ReactDom","render","info_window_content","locations","onMarkerClick","activeMarker","showInfoWindow","activeLocation","onInfoWindowClose","onMarkerCreated","aria-label","role","components_marker","onClick","info_window","onInfoWindowReady","onCloseclick","ListView","focusedItem","onListFocus","firstItem","querySelector","setState","onListBlur","onKeyDown","keys","keyCode","nextSibling","preventDefault","previousSibling","itemClick","setActiveItemFocus","element","focus","scrollIntoView","block","activeLocationId","tabIndex","aria-activedescendant","onFocus","onBlur","event","classNames","push","aria-selected","Filter","onFilterSelect","title","defaultValue","onChange","option","Heading","DetailWindow","photoUrl","srcSet","movieNames","locationName","onCloseClick","movie","movies","bestPhoto","photoUrl1X","prefix","suffix","photoUrl2X","movieValue","index","findIndex","thisMovie","description","contact","formattedPhone","data","lat","lng","App","filterValue","scrollItemToView","process","clientSecret","renderMap","url","firstScript","getElementsByTagName","script","async","defer","innerHTML","parentNode","insertBefore","loadScript","initMap","center","zoom","clearActiveMarker","setMapBounds","LatLngBounds","extend","fitBounds","updateFilterValue","selectedValue","includes","parseInt","setMarkerActive","fetchLocationDetail","onListItemClick","locationId","locationIndex","loc","active","toogleMarkerBounce","setMarkerIcon","setCenter","getPosition","bounce","setAnimation","Animation","BOUNCE","getAnimation","fetch","then","response","ok","json","meta","code","venue","catch","setIcon","activeIcon","_this$state","heading","map_Map","filter_Filter","listview_ListView","scrollToView","detail_window","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","addEventListener","console","log","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","src_App_0","URL","origin","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","onReady","reg"],"mappings":"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","file":"static/js/main.ee0588e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/powered-by-foursquare-grey.36766770.svg\";","module.exports = __webpack_public_path__ + \"static/media/place.d89191a6.svg\";","\r\n/**\r\n* @description Convert first character of each word in a string to uppercase\r\n*/\r\nexport const camelize = function(str) {\r\n\treturn str.split(' ').map(function(word){\r\n\t\treturn word.charAt(0).toUpperCase() + word.slice(1);\r\n\t}).join('');\r\n};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { camelize } from './utils';\r\n\r\nconst eventNames = [ 'click', 'mouseover' ];\r\n\r\nclass Marker extends Component {\r\n\t/**\r\n\t* @description Remove marker from map when component unmounts\r\n\t*/\r\n\tcomponentWillUnmount() {\r\n\t\tif (this.marker) {\r\n\t\t\tthis.marker.setMap(null);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.map !== prevProps.map ||\r\n\t\t\tthis.props.position !== prevProps.position) {\r\n\t\t\t// Initialize marker\r\n\t\t\tthis.renderMarker();\r\n\t\t} else if (this.props.visible !== prevProps.visible) {\r\n\t\t\t// Toggle marker visibility based on the visible prop\r\n\t\t\tif (this.props.visible) {\r\n\t\t\t\tthis.marker.setMap(this.props.map);\r\n\t\t\t} else {\r\n\t\t\t\tthis.marker.setMap(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @description Create and render a google maps api marker\r\n\t*/\r\n\trenderMarker() {\r\n\t\tlet { position, mapCenter, map, visible, onCreate } = this.props;\r\n\t\tlet pos = position || mapCenter;\r\n\t\tposition = new window.google.maps.LatLng(pos);\r\n\r\n\t\tconst options = {\r\n\t\t\tmap: visible ? map : null,\r\n\t\t\tposition: position\r\n\t\t};\r\n\r\n\t\tthis.marker = new window.google.maps.Marker(options);\r\n\r\n\t\tif (onCreate) {\r\n\t\t\tonCreate(this.props, this.marker);\r\n\t\t}\r\n\r\n\t\teventNames.forEach(e => {\r\n\t\t\tthis.marker.addListener(e, this.handleEvent(e));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t* @description Handle a marker event\r\n\t*/\r\n\thandleEvent(evt) {\r\n\t\treturn (e) => {\r\n\t\t\tconst eventName = `on${camelize(evt)}`;\r\n\r\n\t\t\tif (this.props[eventName]) {\r\n\t\t\t\tthis.props[eventName](this.props, this.marker, e);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nMarker.propTypes = {\r\n\tposition: PropTypes.object,\r\n\tmap: PropTypes.object,\r\n\tonCreate: PropTypes.func\r\n};\r\n\r\nexport default Marker;","import { Component } from 'react';\r\nimport { camelize } from './utils';\r\n\r\nclass InfoWindow extends Component {\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.props.map !== prevProps.map) {\r\n\t\t\tthis.renderInfoWindow();\r\n\t\t}\r\n\r\n\t\tif (this.props.visible !== prevProps.visible ||\r\n\t\t\tthis.props.marker !== prevProps.marker) {\r\n\t\t\tif (this.props.visible) {\r\n\t\t\t\tthis.openWindow();\r\n\t\t\t} else {\r\n\t\t\t\tthis.closeWindow();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.props.venueInfo !== prevProps.venueInfo) {\r\n\t\t\t// Update the info window content (using ReactDom.render)\r\n\t\t\tthis.props.onDomready(this.props);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @description Open info window\r\n\t*/\r\n\topenWindow() {\r\n\t\tif (this.infoWindow) this.infoWindow.open(this.props.map, this.props.marker);\r\n\t}\r\n\r\n\t/**\r\n\t* @description Close info window\r\n\t*/\r\n\tcloseWindow() {\r\n\t\tif (this.infoWindow) this.infoWindow.close();\r\n\t}\r\n\r\n\t/**\r\n\t* @description Initialise info window\r\n\t*/\r\n\trenderInfoWindow() {\r\n\t\tthis.infoWindow = new window.google.maps.InfoWindow({\r\n\t\t\tcontent: '<div id=\"info-window-content\"></div>'\r\n\t\t});\r\n\r\n\t\tif (this.infoWindow) {\r\n\t\t\tconst eventNames = [ 'domready', 'closeclick' ];\r\n\r\n\t\t\teventNames.forEach(e => {\r\n\t\t\t\tthis.infoWindow.addListener(e, this.handleEvent(e));\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @description Handle info window event\r\n\t*/\r\n\thandleEvent(evt) {\r\n\t\treturn (e) => {\r\n\t\t\tconst eventName = `on${camelize(evt)}`;\r\n\r\n\t\t\tif (this.props[eventName]) {\r\n\t\t\t\tthis.props[eventName](this.props, this.marker, e);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default InfoWindow;","import React, { Component } from 'react';\r\nimport attributionLogo from '../icons/powered-by-foursquare-grey.svg';\r\n\r\nclass InfoWindowContent extends Component {\r\n\trender() {\r\n\t\tconst { location, clientId, venueInfo } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"place-detail\">\r\n\t\t\t\t{location &&\r\n\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t<a href={venueInfo.canonicalUrl + `?ref=${clientId}`} target=\"blank\">\r\n\t\t\t\t\t\t\t{venueInfo.name || location.name}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t}\r\n\t\t\t\t{venueInfo.error && <span>Details could not be loaded.</span>}\r\n\t\t\t\t{!venueInfo.name && !venueInfo.error && <span>Loading detail...</span>}\r\n\t\t\t\t{venueInfo.name &&\r\n\t\t\t\t\t<div id=\"venue-info\">\r\n\t\t\t\t\t\t{ venueInfo.location && venueInfo.location.formattedAddress &&\r\n\t\t\t\t\t\t\t<div id=\"address\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"venue-address\">Address:</label>\r\n\t\t\t\t\t\t\t\t<div id=\"venue-address\">\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvenueInfo.location.formattedAddress.join(', ')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"attribution-logo-small\"\r\n\t\t\t\t\t\t\talt=\"Foursquare attribution logo\"\r\n\t\t\t\t\t\t\tsrc={attributionLogo} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default InfoWindowContent;","import React, { Component } from 'react';\r\nimport Marker from './marker'\r\nimport InfoWindow from './info-window';\r\nimport InfoWindowContent from './info-window-content';\r\nimport ReactDom from 'react-dom';\r\n\r\nexport class Map extends Component {\r\n\tstate = {\r\n\t\tbounds: {}\r\n\t}\r\n\r\n\t/**\r\n\t* @description update the content inside the info window\r\n\t*/\r\n\tonInfoWindowReady() {\r\n\t\tconst contentDiv = document.getElementById('info-window-content');\r\n\r\n\t\tif (contentDiv) {\r\n\t\t\tReactDom.render((\r\n\t\t\t\t<InfoWindowContent\r\n\t\t\t\t\tlocation={this.location}\r\n\t\t\t\t\tvenueInfo={this.venueInfo}\r\n\t\t\t\t\tclientId={this.clientId}\r\n\t\t\t\t/>\r\n\t\t\t), contentDiv);\r\n\t\t}\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {\r\n\t\t\tlocations,\r\n\t\t\tmap,\r\n\t\t\tonMarkerClick,\r\n\t\t\tmapCenter,\r\n\t\t\tactiveMarker,\r\n\t\t\tshowInfoWindow,\r\n\t\t\tactiveLocation,\r\n\t\t\tonInfoWindowClose,\r\n\t\t\tonMarkerCreated,\r\n\t\t\tvenueInfo,\r\n\t\t\tclientId\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid=\"map\"\r\n\t\t\t\tclassName=\"map-view\"\r\n\t\t\t\taria-label=\"Map of Harry Potter film locations in UK\"\r\n\t\t\t\trole=\"application\">\r\n\t\t\t\t\t<div className=\"map-error\">Map could not be loaded</div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlocations\r\n\t\t\t\t\t\t.map(location => (\r\n\t\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\t\tvisible={location.visible}\r\n\t\t\t\t\t\t\t\tkey={location.id}\r\n\t\t\t\t\t\t\t\tmap={map}\r\n\t\t\t\t\t\t\t\tmapCenter={mapCenter}\r\n\t\t\t\t\t\t\t\tposition={location.position}\r\n\t\t\t\t\t\t\t\tlocation={location}\r\n\t\t\t\t\t\t\t\tonClick={onMarkerClick}\r\n\t\t\t\t\t\t\t\tonCreate={onMarkerCreated}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t<InfoWindow\r\n\t\t\t\t\tmarker={activeMarker}\r\n\t\t\t\t\tmap={map}\r\n\t\t\t\t\tvisible={showInfoWindow}\r\n\t\t\t\t\tlocation={activeLocation}\r\n\t\t\t\t\tonDomready={this.onInfoWindowReady}\r\n\t\t\t\t\tonCloseclick={onInfoWindowClose}\r\n\t\t\t\t\tvenueInfo={venueInfo}\r\n\t\t\t\t\tclientId={clientId}>\r\n\t\t\t\t</InfoWindow>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\n/**\r\n* Listbox accessibility features are based on:\r\n* https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role\r\n*/\r\n\r\nexport class ListView extends Component  {\r\n\tstate = {\r\n\t\tfocusedItem: this.props.activeLocation ? this.props.activeLocation.id : ''\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setActiveItemFocus();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevState.focusedItem !== this.state.focusedItem) {\r\n\t\t\tthis.setActiveItemFocus();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @description Set focus to active item and scroll it into view if necessary\r\n\t*/\r\n\tsetActiveItemFocus() {\r\n\t\tif (this.state.focusedItem) {\r\n\t\t\tconst element = document.getElementById(this.state.focusedItem);\r\n\r\n\t\t\telement.focus();\r\n\t\t\telement.scrollIntoView({block: \"nearest\"});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @description When list focuses set focus to the first item if no other list\r\n\t* item is in focus (selected)\r\n\t*/\r\n\tonListFocus = () => {\r\n\t\tif (this.state.focusedItem === '') {\r\n\t\t\tconst firstItem = document.getElementById(this.props.id).querySelector('[role=\"option\"]');\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tfocusedItem: firstItem.id\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t* @description Clear focused item when listview loses focus\r\n\t* @params {object} e - DOM event\r\n\t*/\r\n\tonListBlur = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tfocusedItem: ''\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t* @description Handle key events, move focused\r\n\t* @params {object} e - DOM event\r\n\t*/\r\n\tonKeyDown = (e) => {\r\n\t\tconst keys = {\r\n\t\t\tup: 38,\r\n\t\t\tdown: 40,\r\n\t\t\tspace: 32,\r\n\t\t\tenter: 13\r\n\t\t};\r\n\r\n\t\tconst focusedItem = document.getElementById(this.state.focusedItem);\r\n\r\n\t\tswitch (e.keyCode) {\r\n\t\t\tcase keys.down:\r\n\t\t\t\tif (focusedItem.nextSibling) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tfocusedItem: focusedItem.nextSibling.id\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase keys.up:\r\n\t\t\t\tif (focusedItem.previousSibling) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tfocusedItem: focusedItem.previousSibling.id\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase keys.space:\r\n\t\t\tcase keys.enter:\r\n\t\t\t\tthis.props.itemClick(this.state.focusedItem);\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { locations, activeLocation, itemClick, id } = this.props;\r\n\t\tconst { focusedItem } = this.state;\r\n\t\tconst activeLocationId = activeLocation ? activeLocation.id : '';\r\n\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tid={id}\r\n\t\t\t\tclassName=\"list-view\"\r\n\t\t\t\trole=\"listbox\"\r\n\t\t\t\ttabIndex=\"0\"\r\n\t\t\t\taria-label=\"Harry Potter film locations\"\r\n\t\t\t\taria-activedescendant={focusedItem}\r\n\t\t\t\tonFocus={this.onListFocus}\r\n\t\t\t\tonBlur={(e) => this.onListBlur(e)}\r\n\t\t\t\tonKeyDown={(event) => this.onKeyDown(event)}>\r\n\t\t\t\t{\r\n\t\t\t\t\tlocations.map(location => {\r\n\t\t\t\t\t\tlet classNames = [];\r\n\r\n\t\t\t\t\t\tif (location.id === focusedItem) {\r\n\t\t\t\t\t\t\tclassNames.push('focused');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (location.id === activeLocationId) {\r\n\t\t\t\t\t\t\tclassNames.push('list-view-selected');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tlocation.visible &&\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tid={location.id}\r\n\t\t\t\t\t\t\t\tkey={location.name}\r\n\t\t\t\t\t\t\t\tclassName={classNames.join(' ')}\r\n\t\t\t\t\t\t\t\tonClick={() => itemClick(location.id)}\r\n\t\t\t\t\t\t\t\trole=\"option\"\r\n\t\t\t\t\t\t\t\taria-selected={activeLocationId === location.id}\r\n\t\t\t\t\t\t\t>{location.name}</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n}","import React, { Component } from 'react';\r\n\r\nexport class Filter extends Component {\r\n\trender() {\r\n\t\tconst { value, onFilterSelect, options, title, id } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"filter-container\">\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName=\"filter-label\"\r\n\t\t\t\t\thtmlFor={id}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tdefaultValue={value}\r\n\t\t\t\t\tonChange={(event) => onFilterSelect(event.target.value)}>\r\n\t\t\t\t\t<option value=\"\">Any</option>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\toptions.map(option => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={option.value}\r\n\t\t\t\t\t\t\t\tvalue={option.value}>\r\n\t\t\t\t\t\t\t\t{option.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import React, { Component } from 'react';\r\n\r\nclass Heading extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<header className=\"heading\">\r\n\t\t\t\t<h1>{this.props.title}</h1>\r\n\t\t\t</header>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Heading;","import React, { Component } from 'react';\r\nimport attributionLogo from '../icons/powered-by-foursquare-grey.svg'\r\n\r\nclass DetailWindow extends Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tvenueInfo,\r\n\t\t\tclientId,\r\n\t\t\tlocationName,\r\n\t\t\tonCloseClick,\r\n\t\t\tmovie,\r\n\t\t\tmovies\r\n\t\t} = this.props;\r\n\t\tlet photoUrl;\r\n\t\tlet srcSet;\r\n\t\tlet movieNames;\r\n\r\n\t\tif (venueInfo && venueInfo.bestPhoto) {\r\n\t\t\tconst bestPhoto = venueInfo.bestPhoto;\r\n\r\n\t\t\t// Retrieve different size for 1x and 2x resolutions,\r\n\t\t\t// 500 is max width specified, so we retrieve original image for 2x and bigger\r\n\t\t\tconst photoUrl1X = `${bestPhoto.prefix}width300${bestPhoto.suffix}`;\r\n\t\t\tconst photoUrl2X = `${bestPhoto.prefix}original${bestPhoto.suffix}`;\r\n\r\n\t\t\tphotoUrl = photoUrl2X;\r\n\t\t\tsrcSet = `${photoUrl1X} 1x, ${photoUrl2X} 2x`;\r\n\t\t}\r\n\r\n\t\tif (movie) {\r\n\t\t\tif (movie.length === movies.length) {\r\n\t\t\t\tmovieNames = 'Featured in all Harry Potter movies';\r\n\t\t\t} else {\r\n\t\t\t\tmovieNames = movie.map(movieValue => {\r\n\t\t\t\t\tconst index = movies.findIndex(thisMovie => movieValue === thisMovie.value);\r\n\t\t\t\t\tconst returnValue = (index !== -1) ? movies[index].name : movieValue;\r\n\r\n\t\t\t\t\treturn returnValue;\r\n\t\t\t\t}).join(', ');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<section className=\"detail-window\">\r\n\t\t\t\t<header className=\"detail-window-header\">\r\n\t\t\t\t\t{venueInfo.name &&\r\n\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t<a href={venueInfo.canonicalUrl + `?ref=${clientId}`} target=\"blank\">\r\n\t\t\t\t\t\t\t\t{venueInfo.name || locationName}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{venueInfo.error && <h2>{locationName}</h2>}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={onCloseClick}\r\n\t\t\t\t\t\tclassName=\"close-detail\">\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</header>\r\n\t\t\t\t{movieNames &&\r\n\t\t\t\t\t<div className=\"location-movie\">Movies: {movieNames}</div>\r\n\t\t\t\t}\r\n\t\t\t\t{!venueInfo.name && !venueInfo.error &&\r\n\t\t\t\t\t<span>Loading...</span>\r\n\t\t\t\t}\r\n\t\t\t\t{venueInfo.error &&\r\n\t\t\t\t\t<span>Location detail could not be loaded</span>\r\n\t\t\t\t}\r\n\t\t\t\t{photoUrl &&\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={photoUrl}\r\n\t\t\t\t\t\tsrcSet={srcSet}\r\n\t\t\t\t\t\talt={venueInfo.name} />\r\n\t\t\t\t}\r\n\t\t\t\t{venueInfo.description &&\r\n\t\t\t\t\t<p>{venueInfo.description}</p>\r\n\t\t\t\t}\r\n\t\t\t\t{venueInfo.contact && venueInfo.contact.formattedPhone &&\r\n\t\t\t\t\t<div id=\"contact-info\">\r\n\t\t\t\t\t\t<label htmlFor=\"venue-contact\">Contact:</label>\r\n\t\t\t\t\t\t<div id=\"venue-contact\">\r\n\t\t\t\t\t\t\t{venueInfo.contact.formattedPhone}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{venueInfo.name && <img\r\n\t\t\t\t\tclassName=\"attribution-logo\"\r\n\t\t\t\t\talt=\"Foursquare attribution logo\"\r\n\t\t\t\t\tsrc={attributionLogo} />\r\n\t\t\t\t}\r\n\t\t\t</section>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DetailWindow;","const data = {\r\n\tlocations: [\r\n\t{\r\n\t\tname: 'Australia House',\r\n\t\tposition: {\r\n\t\t\tlat: 51.51037,\r\n\t\t\tlng: -0.12157\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4ad31fe9f964a52023e320e3',\r\n\t\tmovie: [ 1 ]\r\n\t},\r\n\t{\r\n\t\tname: 'King\\'s Cross Station',\r\n\t\tposition: {\r\n\t\t\tlat: 51.530586,\r\n\t\t\tlng: -0.12447212\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4af33684f964a520c7eb21e3',\r\n\t\tmovie: [ 1, 2, 3, 4, 5, 6, 7, 8 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Millennium Bridge',\r\n\t\tposition: {\r\n\t\t\tlat: 51.50947,\r\n\t\t\tlng: -0.098558\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4ac518cef964a52022a620e3',\r\n\t\tmovie: [ 6 ]\r\n\t},\r\n\t{\r\n\t\tname: 'London City Hall',\r\n\t\tposition: {\r\n\t\t\tlat: 51.505238,\r\n\t\t\tlng: -0.079039335\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4b460230f964a520131426e3',\r\n\t\tmovie: [ 6 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Great Scotland Yard',\r\n\t\tposition: {\r\n\t\t\tlat: 51.506222,\r\n\t\t\tlng: -0.126169\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '547b6c2d498e3f5770072260',\r\n\t\tmovie: [ 6 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Claremont Square',\r\n\t\tposition: {\r\n\t\t\tlat: 51.5308,\r\n\t\t\tlng: -0.11031389\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '51ea867e5019f55eb85cf0dd',\r\n\t\tmovie: [ 5, 7 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Piccadilly Circus',\r\n\t\tposition: {\r\n\t\t\tlat: 51.51001,\r\n\t\t\tlng: -0.13459364\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4c9c6a059c48236a1cb14dee',\r\n\t\tmovie: [ 7 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Leadenhall Market',\r\n\t\tposition: {\r\n\t\t\tlat: 51.51282,\r\n\t\t\tlng: -0.08343618\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4ac518eff964a52062ad20e3',\r\n\t\tmovie: [ 1 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Reptile House, London Zoo',\r\n\t\tposition: {\r\n\t\t\tlat: 51.535645,\r\n\t\t\tlng: -0.15573978\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4dd912d3d1647fcf3e72035f',\r\n\t\tmovie: [ 1 ]\r\n\t},\r\n\t{\r\n\t\tname: 'St. Pancras Renaissance Hotel',\r\n\t\tposition: {\r\n\t\t\tlat: 51.529972,\r\n\t\t\tlng: -0.125404\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4d00c69af1605481dce59fea',\r\n\t\tmovie: [ 1 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Durham Cathedral',\r\n\t\tposition: {\r\n\t\t\tlat: 54.772405,\r\n\t\t\tlng: -1.576418\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4b6e9b65f964a520cbc32ce3',\r\n\t\tmovie: [ 1, 2, 3 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Alnwick Castle',\r\n\t\tposition: {\r\n\t\t\tlat: 55.415726,\r\n\t\t\tlng: -1.7060995\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4b6eaf28f964a52080c62ce3',\r\n\t\tmovie: [ 1, 2 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Malham Cove',\r\n\t\tposition: {\r\n\t\t\tlat: 54.0607,\r\n\t\t\tlng: -2.1537\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4c0a77d27e3fc928cb9af382',\r\n\t\tmovie: [ 7 ]\r\n\t},\r\n\t{\r\n\t\tname: 'New College',\r\n\t\tposition: {\r\n\t\t\tlat: 51.754994,\r\n\t\t\tlng: -1.251768\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4beae24a4f5576b04435b396',\r\n\t\tmovie: [ 4 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Lacock Abbey',\r\n\t\tposition: {\r\n\t\t\tlat: 51.414684,\r\n\t\t\tlng: -2.1212082\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4bf3cf3c6ba2b713362f8977',\r\n\t\tmovie: [ 1, 2 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Virginia Water',\r\n\t\tposition: {\r\n\t\t\tlat: 51.410316,\r\n\t\t\tlng: -0.592274\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4b5c6295f964a5207b2d29e3',\r\n\t\tmovie: [ 3, 4 ]\r\n\t},\r\n\t{\r\n\t\tname: 'Goathland Train Station',\r\n\t\tposition: {\r\n\t\t\tlat: 54.405403,\r\n\t\t\tlng: -0.696376\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4c7e554701589521cbcd0863',\r\n\t\tmovie: [ 1 ]\r\n\t},{\r\n\t\tname: 'Ashridge Wood',\r\n\t\tposition: {\r\n\t\t\tlat: 51.418987,\r\n\t\t\tlng: -0.825477\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4baf73c3f964a520eb003ce3',\r\n\t\tmovie: [ 4 ]\r\n\t},{\r\n\t\tname: 'Seven Sisters Country Park',\r\n\t\tposition: {\r\n\t\t\tlat: 50.771173,\r\n\t\t\tlng: 0.165405\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4bc9a7290687ef3b2e3bdacc',\r\n\t\tmovie: [ 4 ]\r\n\t},{\r\n\t\tname: 'Hardwick Hall',\r\n\t\tposition: {\r\n\t\t\tlat: 53.1665647314269,\r\n\t\t\tlng: -1.30997173157461\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4bc089b7abf495219259bf93',\r\n\t\tmovie: [ 7, 8 ]\r\n\t},{\r\n\t\tname: 'Gloucester Cathedral',\r\n\t\tposition: {\r\n\t\t\tlat: 51.866571,\r\n\t\t\tlng: -2.246986\r\n\t\t},\r\n\t\tvisible: true,\r\n\t\tid: '4b8a755ff964a520946d32e3',\r\n\t\tmovie: [ 1, 2, 3 ]\r\n\t}],\r\n\tmovies:  [\r\n      { value: 1, name: 'Harry Potter and the Philosopher\\'s Stone' },\r\n      { value: 2, name: 'Harry Potter and the Chamber of Secrets' },\r\n      { value: 3, name: 'Harry Potter and the Prisoner of Azkaban' },\r\n      { value: 4, name: 'Harry Potter and the Goblet of Fire' },\r\n      { value: 5, name: 'Harry Potter and the Order of the Phoenix' },\r\n      { value: 6, name: 'Harry Potter and the Half-Blood Prince' },\r\n      { value: 7, name: 'Harry Potter and the Deathly Hallows Part 1' },\r\n      { value: 8, name: 'Harry Potter and the Deathly Hallows Part 2' }\r\n    ]\r\n};\r\n\r\nexport default data;","import React, { Component } from 'react';\nimport { Map } from './components/map';\nimport { ListView } from './components/listview';\nimport { Filter } from './components/filter';\nimport Heading from './components/heading';\nimport DetailWindow from './components/detail-window';\nimport activeIcon from './icons/place.svg';\nimport './App.css';\nimport data from './data';\n\nclass App extends Component {\n\tstate = {\n\t\tmap: null,\n\t\tmapCenter: { lat: 52.060020, lng: -1.340450 },\n\t\tfilterValue: '',\n\t\tactiveMarker: null,\n\t\tactiveLocation: null,\n\t\tvenueInfo: {},\n\t\tshowInfoWindow: true,\n\t\tscrollItemToView: false,\n\t\tmovies: data.movies,\n\t\tlocations: data.locations\n\t}\n\n\tclientId = process.env.REACT_APP_FOURSQUARE_API_CLIENT_ID;\n\tclientSecret = process.env.REACT_APP_FOURSQUARE_API_CLIENT_SECRET;\n\n\tcomponentDidMount() {\n\t\tthis.renderMap();\n\t}\n\n\t/**\n\t* @description Render Google Maps API map\n\t*/\n\trenderMap = () => {\n\t\tloadScript(`https://maps.googleapis.com/maps/api/js?v=3&key=${process.env.REACT_APP_GOOGLE_MAPS_API_KEY}&callback=initMap`);\n\t\twindow.initMap = this.initMap;\n\t}\n\n\t/**\n\t* @description Initialises a google maps map object and stores its reference in state\n\t*/\n\tinitMap = () => {\n\t\tconst map = new window.google.maps.Map(document.getElementById('map'), {\n\t\t\tcenter: this.state.mapCenter,\n\t\t\tzoom: 14\n\t\t});\n\n\t\tmap.addListener('click', this.clearActiveMarker);\n\n\t\tthis.setMapBounds(map);\n\n\t\tthis.setState({\n\t\t\tmap: map\n\t\t});\n\t}\n\n\t/**\n\t* @description Sets map boundaries to include all markers\n\t* @param {google.maps.Map} - google.maps.Map instance which boundaries will be set\n\t*/\n\tsetMapBounds = (map) => {\n\t\tlet bounds = new window.google.maps.LatLngBounds();\n\n\t\tthis.state.locations.forEach(location => {\n\t\t\tbounds.extend(location.position);\n\t\t});\n\n\t\tmap.fitBounds(bounds);\n\t}\n\n\t/**\n\t* @description On filter change set selectedValue and set locations' visible attribute\n\t* based on the filter value\n\t*/\n\tupdateFilterValue = (selectedValue) => {\n\t\tthis.setState(function(prevState) {\n\t\t\tlet locations = prevState.locations;\n\n\t\t\tlocations.forEach(location => {\n\t\t\t\tif (selectedValue === '') {\n\t\t\t\t\tlocation.visible = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlocation.visible = location.movie.includes(parseInt(selectedValue));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tfilterValue: selectedValue,\n\t\t\t\tlocations: locations\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t* @description Handle marker click event, set it to active and fetch location\n\t*/\n\tonMarkerClick = (props, marker) => {\n\t\tconst { activeMarker } = this.state;\n\t\tthis.setMarkerActive(activeMarker, false);\n\n\t\tthis.setState({\n\t\t\tvenueInfo: {},\n\t\t\tactiveMarker: marker,\n\t\t\tshowInfoWindow: true,\n\t\t\tactiveLocation: props.location,\n\t\t\tscrollItemToView: true\n\t\t});\n\n\t\tthis.setMarkerActive(marker, true);\n\t\tthis.fetchLocationDetail(props.location.id);\n\t}\n\n\t/**\n\t* @description Clear active marker\n\t*/\n\tclearActiveMarker = () => {\n\t\tconst { activeMarker } = this.state;\n\t\tthis.setMarkerActive(activeMarker, false);\n\n\t\tthis.setState({\n\t\t\tactiveMarker: null,\n\t\t\tactiveLocation: null,\n\t\t\tshowInfoWindow: false,\n\t\t\tscrollItemToView: false\n\t\t});\n\t}\n\n\t/*/\n\t* @description Handle list item click, set state and fetch location detail\n\t*/\n\tonListItemClick = (locationId) => {\n\t\tconst locations = this.state.locations;\n\t\tconst locationIndex = locations.findIndex(loc => loc.id === locationId);\n\n\t\tif (locationIndex !== -1) {\n\t\t\tconst location = locations[locationIndex];\n\n\t\t\tthis.onMarkerClick({\n\t\t\t\tlocation: location\n\t\t\t}, location.marker);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tscrollItemToView: false\n\t\t});\n\n\t\tthis.fetchLocationDetail(locationId);\n\t}\n\n\t/**\n\t* @description Toggle marker icon and bounce\n\t*/\n\tsetMarkerActive = (marker, active) => {\n\t\tif (marker) {\n\t\t\tif (active) {\n\t\t\t\tthis.toogleMarkerBounce(marker, true);\n\t\t\t\tthis.setMarkerIcon(marker, true);\n\t\t\t\tthis.state.map.setCenter(marker.getPosition());\n\t\t\t} else {\n\t\t\t\tthis.toogleMarkerBounce(marker, false);\n\t\t\t\tthis.setMarkerIcon(marker, false);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* @description Toggle marker bouncing\n\t*/\n\ttoogleMarkerBounce = (marker, bounce) => {\n\t\tif (bounce) {\n\t\t\tmarker.setAnimation(window.google.maps.Animation.BOUNCE);\n\t\t} else {\n\t\t\tif (marker.getAnimation() !== null) {\n\t\t\t\tmarker.setAnimation(null);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* @description Toggle marker's icon\n\t*/\n\tsetMarkerIcon(marker, active) {\n\t\tif (active) {\n\t\t\tmarker.setIcon(activeIcon);\n\t\t} else {\n\t\t\tmarker.setIcon(null);\n\t\t}\n\t}\n\n\t/**\n\t* @description When a marker is created attach its reference to corresponding locations item\n\t*/\n\tonMarkerCreated = (props, marker) => {\n\t\tconst { location } = props;\n\n\t\tthis.setState(function(prevState) {\n\t\t\tlet locations = prevState.locations;\n\n\t\t\tconst locationIndex = locations.findIndex(loc => loc.id === location.id);\n\n\t\t\tif (locationIndex !== -1) {\n\t\t\t\tlocations[locationIndex].marker = marker;\n\t\t\t}\n\n\t\t\treturn { locations: locations };\n\t\t});\n\t}\n\n\t/**\n\t* @description Fetch location detail from foursquare API and update state\n\t*/\n\tfetchLocationDetail = (id) => {\n\t\tconst url = `https://api.foursquare.com/v2/venues/${id}?client_id=${this.clientId}&client_secret=${this.clientSecret}&v=20181015`;\n\n\t\tfetch(url)\n\t\t.then(response => {\n\t\t\tif (response && response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t} else {\n\t\t\t\treturn { meta: 999 };\n\t\t\t}\n\t\t})\n\t\t.then(data => {\n\t\t\tif (data && data.meta && data.meta.code === 200) {\n\t\t\t\tthis.setState({ venueInfo: data.response.venue });\n\t\t\t} else {\n\t\t\t\tthis.setState({ venueInfo: { error: true } });\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.setState({ venueInfo: { error: true } }));\n\t}\n\n\trender() {\n\tconst {\n\t\tlocations,\n\t\tfilterValue,\n\t\tshowInfoWindow,\n\t\tscrollItemToView,\n\t\tactiveMarker,\n\t\tactiveLocation,\n\t\tmapCenter,\n\t\tmap,\n\t\tmovies,\n\t\tvenueInfo\n\t} = this.state;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t<Heading title=\"Harry Potter Films' Locations\" />\n\t\t<main className=\"content\">\n\t\t<Map\n\t\tmap={map}\n\t\tlocations={locations}\n\t\tonMarkerClick={this.onMarkerClick}\n\t\tonMarkerCreated={this.onMarkerCreated}\n\t\tonInfoWindowClose={this.clearActiveMarker}\n\t\tmapCenter={mapCenter}\n\t\tactiveMarker={activeMarker}\n\t\tactiveLocation={activeLocation}\n\t\tvenueInfo={venueInfo}\n\t\tshowInfoWindow={showInfoWindow}\n\t\tclientId={this.clientId}\n\t\t/>\n\t\t{ !activeLocation &&\n\t\t\t<div className=\"list\">\n\t\t\t<Filter\n\t\t\tid=\"location-filter\"\n\t\t\ttitle=\"Filter by Movie\"\n\t\t\tvalue={filterValue}\n\t\t\tonFilterSelect={this.updateFilterValue}\n\t\t\toptions={movies}\n\t\t\t/>\n\t\t\t<ListView\n\t\t\tlocations={locations}\n\t\t\tactiveLocation={activeLocation}\n\t\t\titemClick={this.onListItemClick}\n\t\t\tscrollToView={scrollItemToView}\n\t\t\tid=\"locations-list\"\n\t\t\t/>\n\t\t\t</div>\n\t\t}\n\t\t{ activeLocation &&\n\t\t\t<DetailWindow\n\t\t\tvenueInfo={venueInfo}\n\t\t\tclientId={this.clientId}\n\t\t\tlocationName={activeLocation ? activeLocation.name : ''}\n\t\t\tmovie={activeLocation ? activeLocation.movie : ''}\n\t\t\tmovies={movies}\n\t\t\tonCloseClick={this.clearActiveMarker}\n\t\t\t/>\n\t\t}\n\t\t</main>\n\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n* @description loads external script asynchronously\n* @param {string} url - The url to load\n*/\nfunction loadScript(url) {\n\tvar firstScript = document.getElementsByTagName('script')[0];\n\tvar script = document.createElement('script');\n\tscript.src = url;\n\tscript.async = true;\n\tscript.defer = true;\n\tscript.innerHTML = 'function gm_authFailure() {alert(\"map auth fail\")}';\n\n\tfirstScript.parentNode.insertBefore(script, firstScript);\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n    );\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\n\t\t\t\t\tconfig.onReady();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t.register(swUrl)\n\t.then(registration => {\n\n\t\tnavigator.serviceWorker.addEventListener('fetch', function(event) {\n\t\t\tconsole.log('fetch');\n\t\t});\n\n\t\tregistration.onupdatefound = () => {\n\t\t\tconst installingWorker = registration.installing;\n\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\n\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\tif (config.onUpdate) {\n\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\tif (config.onSuccess) {\n\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t})\n\t.catch(error => {\n\t\tconsole.error('Error during service worker registration:', error);\n\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t.then(response => {\n\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\tif (\n\t\t\tresponse.status === 404 ||\n\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t) {\n\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t}\n\t})\n\t.catch(() => {\n\t\tconsole.log(\n\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t);\n\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register({\n\tonReady: function() {\n\t\tconsole.log('service worker ready');\n\t},\n\tonSuccess: function(reg) {\n\t\tconsole.log('service worker registration success');\n\t},\n\tonUpdate: function(reg) {\n\t\tconsole.log('service worker updated');\n\t}\n});\n"],"sourceRoot":""}